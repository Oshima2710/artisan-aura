<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artisan</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet">
    <link href="./src/styles/output.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body, html {
            height: 100%;
            margin: 0;
            overflow: hidden; /* Prevent body scroll */
        }
        #webcrumbs {
            height: 100%;
            display: flex;
        }
        aside {
            width: 300px;
            height: 100vh;
            background-color: white;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            position: fixed;
            overflow-y: auto; /* Allow scrolling in the sidebar */
        }
        img {
            width: 100%; /* Ensures the image takes the full width of the card */
            height: 300px; /* Set a fixed height */
            object-fit: cover; /* Ensures the image covers the area */
        }
        .content {
            margin-left: 300px;
            flex: 1;
            overflow-y: auto; /* Allow scrolling in the content area */
            padding-bottom: 2rem; /* Add padding to the bottom */
        }
        #product-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); /* Responsive grid */
            gap: 1rem; /* Space between cards */
            padding: 1rem; /* Add padding to the grid */
        }
    </style>
</head>
<body class="font-sans bg-gray-100 rounded-xl">
    <!-- Navigation Bar -->
    <nav class="sticky top-0 z-50 bg-white/90 backdrop-blur-sm w-full shadow-lg">
        <div class="px-6 py-4 flex items-center justify-between">
            <!-- Logo and Links -->
            <a href="index.html" class="flex items-center gap-2">
                <span class="text-2xl font-bold text-black" id="navbar-logo">ArtisanAura</span>
            </a>

            <!-- Search Bar (Centered) -->
            <div class="relative flex justify-center w-full">
                <div class="relative w-[900px]">
                    <input type="text" id="search-input" class="w-full px-4 py-2 text-black border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-orange-500" placeholder="Search..." oninput="filterProducts()">
                    <span class="absolute right-3 top-3/4 transform -translate-y-3/4 text-gray-500 cursor-pointer">
                        <span class="material-symbols-outlined">search</span>
                    </span>
                </div>
            </div>

            <div class="flex items-center gap-8 font-semibold">
                <a href="cart.html" class="hover:text-orange-500 transition-colors flex items-center gap-1 relative">
                    <span class="material-symbols-outlined text-2xl">shopping_cart</span> 
                    <span id="cart-count" class="bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full absolute -top-2 -right-3 hidden">0</span>
                </a>                
                
                <a href="wishlist.html" class="hover:text-orange-500 transition-colors flex items-center gap-1 relative">
                    <span class="material-symbols-outlined">favorite</span>
                    <span id="wishlist-count" class="bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center absolute -top-2 -right-2 hidden">0</span>
                </a>
                
            </div>
        </div>

        <!-- Category Section -->
        <div class="px-6 py-4" id="category-section">
            <div class="flex items-center justify-center">
                <!-- Category List -->
                <div class="flex items-center gap-8  font-semibold">
                    <!-- category1 -->
                    <div class="relative group">
                        <a href="her.html" class="hover:text-orange-500 transition-colors flex items-center gap-1">
                            Gift For Her
                        </a>
                    </div>
                    <!-- category2 -->
                    <div class="relative group">
                        <a href="him.html" class="hover:text-orange-500 transition-colors flex items-center gap-1">
                            Gift For Him
                        </a>
                    </div>
                    <!-- category3 -->
                    <div class="relative group">
                        <a href="festive.html" class="hover:text-orange-500 transition-colors flex items-center gap-1">
                            Festive Gifts
                        </a>
                    </div>
                    <!-- category4 -->
                    <div class="relative group">
                        <a href="birthday.html" class="hover:text-orange-500 transition-colors flex items-center gap-1">
                            Birthday Gifts
                        </a>
                    </div>
                    <!-- category5 -->
                    <div class="relative group">
                        <a href="wedding.html" class="hover:text-orange-500 transition-colors flex items-center gap-1">
                            Wedding Gifts
                        </a>
                    </div>
                    <!-- category1 -->
                    <div class="relative group">
                        <a href="personal.html" class="hover:text-orange-500 transition-colors flex items-center gap-1">
                            Personalized Gifts
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div id="webcrumbs" class="flex gap-5 pt-5">
        <!-- Sidebar (Filters) -->
        <aside class="w-[250px] sticky top-5 h-screen overflow-y-auto bg-white p-5 rounded-lg shadow-md hidden md:block">
            <h2 class="text-xl font-bold mb-6">Filters</h2>
            
            <!-- Colors Filter -->
            <div class="mb-8">
                <h3 class="font-semibold mb-4">Colors</h3>
                <div class="grid grid-cols-4 gap-3">
                    <button class="w-8 h-8 rounded-full bg-red-500 color-filter" data-color="red"></button>
                    <button class="w-8 h-8 rounded-full bg-blue-500 color-filter" data-color="blue"></button>
                    <button class="w-8 h-8 rounded-full bg-green-500 color-filter" data-color="green"></button>
                    <button class="w-8 h-8 rounded-full bg-yellow-500 color-filter" data-color="yellow"></button>
                    <button class="w-8 h-8 rounded-full bg-purple-500 color-filter" data-color="purple"></button>
                    <button class="w-8 h-8 rounded-full bg-pink-500 color-filter" data-color="pink"></button>
                    <button class="w-8 h-8 rounded-full bg-black color-filter" data-color="black"></button>
                    <button class="w-8 h-8 rounded-full bg-white border-2 color-filter" data-color="white"></button>
                    <button class="w-8 h-8 rounded-full bg-orange-500 color-filter" data-color="orange"></button>
                    <button class="w-8 h-8 rounded-full bg-teal-500 color-filter" data-color="teal"></button>
                    <button class="w-8 h-8 rounded-full bg-gray-500 color-filter" data-color="gray"></button>
                    <button class="w-8 h-8 rounded-full bg-yellow-900 color-filter" data-color="dark-brown"></button>
                </div>
            </div>

    
            <!-- Price Range -->
            <div class="mb-8">
                <h3 class="font-semibold mb-4">Price Range</h3>
                <input type="range" id="price-range" class="w-full h-2 bg-blue-100 rounded-lg cursor-pointer" min="100" max="10000" step="10" />
                <div class="flex justify-between mt-2 text-sm text-gray-600">
                    <span>Rs 100</span>
                    <span>Rs 10000</span>
                </div>
                <p class="mt-2 text-lg font-semibold" id="price-display">Selected Price: Rs 10000</p>
            </div>
    
            <!-- Sort By -->
            <div class="mb-8">
                <h3 class="font-semibold mb-4">Sort By</h3>
                <select id="sort-options" class="w-full p-2 border rounded">
                    <option value="default">Default</option>
                    <option value="low-to-high">Price: Low to High</option>
                    <option value="high-to-low">Price: High to Low</option>
                </select>
            </div>
    
            <!-- Apply Filters Button -->
            <button class="w-full bg-blue-600 text-white py-3 rounded-xl font-semibold hover:bg-blue-700 transform hover:scale-105 transition-all duration-300" id="apply-filters">
                Apply Filters
            </button>
        </aside>
        <!-- Product List -->
        <div class="flex-1">
            <!-- Selected Filters Display -->
        <div id="selected-filters" class="mb-4 flex flex-wrap gap-2"></div>
            <div id="no-products-alert" class="hidden text-center my-8">
                <img src="images/not.gif" alt="No Products Found" class="w-32 h-32 mb-4 mx-auto">
                <span class="text-lg font-semibold text-red-500">No products found!</span>
            </div>
            <main id="product-list" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
                <!-- Product Cards will be injected here -->
            </main>
        </div>

    </div>
    
    <!-- Footer -->
    <footer class="bg-black text-white py-12 mt-3 w-full">
        <div class="px-6 lg:px-12">
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 border-b pb-8">
                <div class="space-y-4">
                    <span class="text-gray-400 font-semibold">About</span>
                    <ul class="space-y-2">
                        <a href="contact.html" class="flex items-center space-x-2 cursor-pointer hover:text-gray-400">
                            <span>contact Us</span>
                        </a>
                        <li class="cursor-pointer hover:text-gray-400">About Us</li>
                        <li class="cursor-pointer hover:text-gray-400">Artisan Stories</li>
                    </ul>
                </div>
                <div class="space-y-4">
                    <span class="text-gray-400 font-semibold">Help</span>
                    <ul class="space-y-2">
                        <li class="cursor-pointer hover:text-gray-400">Payments</li>
                        <li class="cursor-pointer hover:text-gray-400">Shipping</li>
                        <li class="cursor-pointer hover:text-gray-400">Returns</li>
                        <li class="cursor-pointer hover:text-gray-400">Cancellation & Return</li>
                    </ul>
                </div>
                <div class="space-y-4">
                    <span class="text-gray-400 font-semibold">Consumer Policy</span>
                    <ul class="space-y-2">
                        <li class="cursor-pointer hover:text-gray-400">Privacy Policy</li>
                        <li class="cursor-pointer hover:text-gray-400">Terms of Use</li>
                        <li class="cursor-pointer hover:text-gray-400">Security</li>
                    </ul>
                </div>
                <div class="flex items-center space-x-6">
                    <div class="relative border h-[10rem] right-[2rem] bg-gray-500"></div>
                    <div class="relative flex flex-col items-start right-[2rem] mb-[1rem] space-y-2 ">
                        <div class="text-gray-700">
                            <span class="text-gray-400 font-semibold">Mail Us</span>
                            <a href="mailto:info@artisanaura.com" class="text-blue-600 hover:underline block space-y-4">info@artisanaura.com</a>
                        </div>                        
                        <div class="space-y-4 hover:text-gray-400">
                            <span class="text-gray-400 font-semibold ">Follow Us</span>
                            <div class="flex space-x-4">
                                <a href="#" class="cursor-pointer hover:text-gray-400"><i class="fa-brands fa-facebook text-2xl"></i></a>
                                <a href="#" class="cursor-pointer hover:text-gray-400"><i class="fa-brands fa-youtube text-2xl"></i></a>
                                <a href="#" class="cursor-pointer hover:text-gray-400"><i class="fa-brands fa-twitter text-2xl"></i></a>
                                <a href="#" class="cursor-pointer hover:text-gray-400"><i class="fa-brands fa-instagram text-2xl"></i></a>
                                <a href="#" class="cursor-pointer hover:text-gray-400"><i class="fa-brands fa-linkedin text-2xl"></i></a>
                                <a href="#" class="cursor-pointer hover:text-gray-400"><i class="fa-brands fa-pinterest text-2xl"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="flex justify">
            <div class="flex justify-around items-center pt-6 text-center w-full px-8">
                <div class="flex items-center space-x-2 cursor-pointer hover:text-gray-400">
                    <span class="material-symbols-outlined">store</span>
                    <span>Become a Seller</span>
                </div>
                <div class="flex items-center space-x-2 cursor-pointer hover:text-gray-400">
                    <span class="material-symbols-outlined">card_giftcard</span>
                    <span>Gift Cards</span>
                </div>
                <div class="flex items-center space-x-2 cursor-pointer hover:text-gray-400">
                    <span class="material-symbols-outlined">help_center</span>
                    <span>Help Center</span>
                </div>
                <p class="text-gray-400 text-sm">
                    © 2025 ArtisanAura. All Rights Reserved.
                </p>
                <div class="flex items-center space-x-4 mb-2">
                    <img src="images/payment-icon.png" alt="Visa" class="h-5">
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        const products = [
            {
                name: "Multi-color Frame",
                image: "images/birth1.jpg",
                description: "A woven container featuring an interlaced pattern of materials, creating a sturdy and decorative structure.",
                price: "Rs 2,123",
                color: "gray"
            },
            {
                name: "Wall-Hanging Frame",
                image: "images/birth2.jpg",
                description: "A stylish and durable storage solution featuring an elegant geometric wireframe design with a luxurious gold finish.",
                price: "Rs 2,457",
                color: "pink"
            },
            {
                name: "Beach Frame",
                image: "images/birth3.webp",
                description: "A sturdy and versatile storage solution with a timeless open-wire design, offering durability and industrial charm.",
                price: "Rs 1,670",
                color: "blue"
            },
            {
                name: "Walnut Ukulele Hanger",
                image: "images/box-2.webp",
                description: "A sturdy and versatile storage solution with a timeless open-wire design, offering durability and industrial charm.",
                price: "Rs 5,670",
                color: "red"
            },
            {
                name: "Watch Case",
                image: "images/box-3.webp",
                description: "A sturdy and versatile storage solution with a timeless open-wire design, offering durability and industrial charm.",
                price: "Rs 9,670",
                color: "gold"
            },
            {
                name: "Guitar Pick Necklace",
                image: "images/him1.jpg",
                description: "A sturdy and versatile storage solution with a timeless open-wire design, offering durability and industrial charm.",
                price: "Rs 4,670",
                color: "black"
            },
            {
                name: "Personalized  Keychains",
                image: "images/him2.webp",
                description: "A sturdy and versatile storage solution with a timeless open-wire design, offering durability and industrial charm.",
                price: "Rs 3,670",
                color: "blue"
            },
        ];

        // Selected Filters Setup
const selectedFiltersContainer = document.getElementById("selected-filters");
const selectedFilters = {
    colors: new Set(),
    price: null,
    sort: "default"
};

// Function to update selected filters UI
function updateSelectedFilters() {
    selectedFiltersContainer.innerHTML = "";
    
    // Display selected colors
    selectedFilters.colors.forEach(color => {
        addFilterTag(color, "color");
    });

    // Display selected price range
    if (selectedFilters.price) {
        addFilterTag(`Up to Rs ${selectedFilters.price}`, "price");
    }

    // Display selected sort option
    if (selectedFilters.sort !== "default") {
        addFilterTag(selectedFilters.sort.replace("-", " "), "sort");
    }
}

// Function to add a filter tag
function addFilterTag(label, type) {
    const filterTag = document.createElement("div");
    filterTag.className = "bg-gray-200 px-3 py-1 rounded-full flex items-center space-x-2";
    filterTag.innerHTML = `
        <span>${label}</span>
        <button class="text-red-500" onclick="removeFilter('${label}', '${type}')">✖</button>
    `;
    selectedFiltersContainer.appendChild(filterTag);
}

// Function to remove a selected filter
function removeFilter(value, type) {
    if (type === "color") {
        selectedFilters.colors.delete(value);
    } else if (type === "price") {
        selectedFilters.price = null;
    } else if (type === "sort") {
        selectedFilters.sort = "default";
    }
    applyFilters();
}

// Color Filter Selection
document.querySelectorAll(".color-filter").forEach(button => {
    button.addEventListener("click", function() {
        const color = this.dataset.color;
        if (selectedFilters.colors.has(color)) {
            selectedFilters.colors.delete(color);
            this.classList.remove("selected");
        } else {
            selectedFilters.colors.add(color);
            this.classList.add("selected");
        }
        updateSelectedFilters();
    });
});

// Price Range Filter
document.getElementById("price-range").addEventListener("input", function() {
    selectedFilters.price = this.value;
    document.getElementById("price-display").textContent = `Selected Price: Rs ${this.value}`;
    updateSelectedFilters();
});

// Sort Filter
document.getElementById("sort-options").addEventListener("change", function() {
    selectedFilters.sort = this.value;
    updateSelectedFilters();
});

// Apply Filters Button
document.getElementById("apply-filters").addEventListener("click", function() {
    applyFilters();
});

// Function to apply filters
function applyFilters() {
    let filteredProducts = products.filter(product => {
        // Color filter
        if (selectedFilters.colors.size > 0 && !selectedFilters.colors.has(product.color)) {
            return false;
        }
        // Price filter
        if (selectedFilters.price) {
            const priceValue = parseInt(product.price.replace("Rs ", "").replace(",", ""));
            if (priceValue > selectedFilters.price) return false;
        }
        return true;
    });

    // Sorting logic
    if (selectedFilters.sort === "low-to-high") {
        filteredProducts.sort((a, b) => parseInt(a.price.replace("Rs ", "").replace(",", "")) - parseInt(b.price.replace("Rs ", "").replace(",", "")));
    } else if (selectedFilters.sort === "high-to-low") {
        filteredProducts.sort((a, b) => parseInt(b.price.replace("Rs ", "").replace(",", "")) - parseInt(a.price.replace("Rs ", "").replace(",", "")));
    }

    renderProducts(filteredProducts);
    updateSelectedFilters();
}

// Function to render filtered products
function renderProducts(filteredProducts) {
    const productList = document.getElementById("product-list");
    const noProductsAlert = document.getElementById("no-products-alert");
    productList.innerHTML = '';

    if (filteredProducts.length === 0) {
        noProductsAlert.classList.remove("hidden");
    } else {
        noProductsAlert.classList.add("hidden");
        filteredProducts.forEach(product => {
            const productCard = document.createElement("div");
            productCard.className = "bg-white rounded-xl shadow-md overflow-hidden transition-all duration-300";
            productCard.innerHTML = `
                <a href="buynow.html?name=${encodeURIComponent(product.name)}&image=${encodeURIComponent(product.image)}&description=${encodeURIComponent(product.description)}&price=${encodeURIComponent(product.price)}">
                        <img src="${product.image}" alt="${product.name}" class="w-full h-[20rem] object-cover"> <!-- Set a fixed height here -->
                    </a>
                    <div class="p-4">
                        <h3 class="text-xl font-semibold text-gray-800">${product.name}</h3>
                        <p class="text-gray-600 mt-2">${product.description}</p>
                        <div class="flex items-center space-x-4 mt-5">
                            <p class="text-lg font-bold">${product.price}</p>
                            <a href="#" class="relative cursor-pointer group flex left-[9rem] add-to-cart" 
                                onclick="addToCart(event, '${product.name}', '${product.image}', '${product.price}')">
                                <span class="material-symbols-outlined text-2xl transform transition-transform duration-300 group-hover:scale-110 group-hover:-translate-y-1">
                                    shopping_cart
                                </span>
                            </a>
                            <a href="#wish" class="relative cursor-pointer group flex left-[9rem]" onclick="addToWishlist(event, '${product.name}', '${product.image}', '${product.description}', '${product.price}')"> 
                                <span class="material-symbols-outlined text-2xl transform transition-transform duration-300 group-hover:scale-110 group-hover:-translate-y-1 favorite-icon">
                                    favorite
                                </span>  
                            </a>
                        </div>
                    </div>
                `;
            productList.appendChild(productCard);
        });
    }
}

        function filterProducts() {
            const searchInput = document.getElementById('search-input').value.toLowerCase();
            const filteredProducts = products.filter(product => product.name.toLowerCase().includes(searchInput));
            renderProducts(filteredProducts);
        }

        function filterProductsByColor(color) {
            const filteredProducts = products.filter(product => product.color === color);
            renderProducts(filteredProducts);
        }

        function filterProductsByPrice(maxPrice) {
            const filteredProducts = products.filter(product => {
                const priceValue = parseInt(product.price.replace("Rs ", "").replace(",", ""));
                return priceValue <= maxPrice;
            });
            renderProducts(filteredProducts);
        }

        function sortProducts(order) {
            const sortedProducts = [...products]; // Create a copy of the products array
            if (order === 'low-to-high') {
                sortedProducts.sort((a, b) => {
                    const priceA = parseInt(a.price.replace("Rs ", "").replace(",", ""));
                    const priceB = parseInt(b.price.replace("Rs ", "").replace(",", ""));
                    return priceA - priceB; // Sort in ascending order
                });
            } else if (order === 'high-to-low') {
                sortedProducts.sort((a, b) => {
                    const priceA = parseInt(a.price.replace("Rs ", "").replace(",", ""));
                    const priceB = parseInt(b.price.replace("Rs ", "").replace(",", ""));
                    return priceB - priceA; // Sort in descending order
                });
            }
            renderProducts(sortedProducts); // Render the sorted products
        }

        function addToCart(event, name, image, price) {
            event.preventDefault();
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            cart.push({ name, image, price });
            localStorage.setItem("cart", JSON.stringify(cart));
            updateCartCount();
            alert(`${name} has been added to your cart!`);
        }

        function updateCartCount() {
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            let cartCountElement = document.getElementById("cart-count");
            if (cartCountElement) {
                cartCountElement.textContent = cart.length > 0 ? cart.length : 0;
                cartCountElement.classList.toggle("hidden", cart.length === 0);
            }
        }

        function addToWishlist(event, productName, productImage, productDescription, productPrice) {
            event.preventDefault();
            let wishlist = JSON.parse(localStorage.getItem("wishlist")) || [];
            const existingProduct = wishlist.find(item => item.name === productName);
            if (!existingProduct) {
                wishlist.push({ name: productName, image: productImage, price: productPrice, description: productDescription });
                localStorage.setItem("wishlist", JSON.stringify(wishlist));
                alert(`${productName} has been added to your wishlist!`);
                updateWishlistCount();
            }
        }

        function updateWishlistCount() {
            let wishlist = JSON.parse(localStorage.getItem("wishlist")) || [];
            let wishlistCountElement = document.getElementById("wishlist-count");
            if (wishlistCountElement) {
                wishlistCountElement.textContent = wishlist.length > 0 ? wishlist.length : 0;
                wishlistCountElement.classList.toggle("hidden", wishlist.length === 0);
            }
        }

        document.addEventListener("DOMContentLoaded", () => {
            updateCartCount();
            updateWishlistCount();
            renderProducts(products); // Show all products by default

            // Color filter event listeners
            const colorFilters = document.querySelectorAll('.color-filter');
            colorFilters.forEach(filter => {
                filter.addEventListener('click', () => {
                    const selectedColor = filter.getAttribute('data-color');
                    filterProductsByColor(selectedColor);
                });
            });

            // Price range event listener
            const priceRangeInput = document.getElementById('price-range');
            priceRangeInput.addEventListener('input', () => {
                const selectedPrice = priceRangeInput.value;
                document.getElementById('price-display').textContent = `Selected Price: Rs ${selectedPrice}`;
                filterProductsByPrice(selectedPrice);
            });

            // Sort options event listener
            const sortOptions = document.getElementById('sort-options');
            sortOptions.addEventListener('change', () => {
                const selectedSort = sortOptions.value;
                sortProducts(selectedSort);
            });

            // Apply filters button
            const applyFiltersButton = document.getElementById('apply-filters');
            applyFiltersButton.addEventListener('click', () => {
                const selectedPrice = priceRangeInput.value;
                const selectedSort = sortOptions.value;
                filterProductsByPrice(selectedPrice);
                sortProducts(selectedSort);
            });
        });
    </script>

</body>
</html>